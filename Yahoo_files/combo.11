!function(a){"use strict";function b(){var a,b;for(a in i)i.hasOwnProperty(a)&&(b=i[a],e(a,b.requires,b.factory))}function c(){var a,b=d(i);if(0===b)for(;void 0!==(a=j.shift());)a()}function d(a){var b=0;if("object"!=typeof a)return b;for(var c in a)a.hasOwnProperty(c)&&b++;return b}function e(a,c,d){if(f(c)){var e=d(ACT);(!h[a]||"factory"in h[a]&&"ATTRS"in h[a].factory&&h[a].factory.ATTRS.version<e.ATTRS.version)&&(g(h,a,c,e),ACT[a]=e),delete i[a],b(),ACT.ready()}else g(i,a,c,d)}function f(a){var b=0;for(b;b<a.length;b++)if(!h[a[b]])return!1;return!0}function g(a,b,c,d){a[b]=a[b]||{},a[b].requires=c,a[b].factory=d}var h={},i={},j=[],k={},l={},m={adQueue:[],ATTRS:{NAME:"ACT",version:"0.0.1"},define:function(a,b,c){e(a,b,c)},ready:function(a){for(var b,e=d(i),f=d(l);void 0!==(b=ACT.adQueue.shift());)j.push(b);return a&&j.push(a),0===e&&0===f?(c(),!0):!1},requireConfig:function(a){return a in k||a in l?(delete l[a],!0):(l[a]=!0,!1)},getConfig:function(a){var b={};return a in k&&(b=k[a]),b},setConfig:function(a,b){a in l&&delete l[a],k[a]=b}};a&&a.hasOwnProperty("version")&&a.version<m.version?m=a:a.adQueue&&(m.adQueue=a.adQueue),window.ACT=m}(window.ACT||{}),ACT.define("Dom",["Lang","UA"],function(a){"use strict";function b(){return b.prototype._singleton?b.prototype._singleton:void(b.prototype._singleton=this)}var c=a.UA;return b.ATTRS={NAME:"Dom",version:"0.0.1"},b.prototype={byId:function(a){return document.getElementById(a)},viewportOffset:function(a){for(var b="string"==typeof a?this.byId(a):a,c=b.offsetTop||0,d=b.offsetLeft||0;b!==document.body;)c+=b.offsetTop||0,d+=b.offsetLeft||0,b=b.offsetParent;return{left:d,top:c}},hasClass:function(b,c){var d=a.Dom;if(d.isDomElement(b)){var e=" ",f=b.className.toString().replace(/\s+/g,e);return c&&(e+f+e).indexOf(e+c+e)>-1}return!1},byClassName:function(b,c){var d,e,f,g=c||document,h=[],i=a.Dom;if(g.getElementsByClassName)h=g.getElementsByClassName(b);else if(g&&g.getElementsByTagName){if(e=g.getElementsByTagName("*"),!e)return[];for(d=0,f=e.length;f>d;++d)i.hasClass(e[d],b)&&(h[h.length]=e[d])}return h},addClass:function(b,c){var d=[],e=a.Dom;return b&&c&&!e.hasClass(b,c)?(b.className&&(d=b.className.split(" ")),d.push(c),b.className=d.join(" "),!0):!1},removeClass:function(b,c){var d,e,f=[],g=a.Dom;if(g.hasClass(b,c)){for(d=b.className.split(" "),e=0;e<d.length;e++)d[e]!==c&&f.push(d[e]);return b.className=f.join(" "),!0}return!1},nodeCreate:function(a){var b,c=document.createElement("DIV"),d=document.createDocumentFragment();for(c.innerHTML=a,b=c.childNodes;b[0];)d.appendChild(b[0].parentNode.removeChild(b[0]));return d},getParent:function(b,c){var d=a.Dom;return d.hasClass(c,b)?c:c.parentNode?d.getParent(b,c.parentNode):null},clear:function(b){var c=a.Dom;c.isDomElement(b)&&(b.innerHTML="")},visible:function(b,c){var d=a.Dom;d.isDomElement(b)&&(b.style.visibility=c?"visible":"hidden")},display:function(b,c){var d=a.Dom;d.isDomElement(b)&&(b.style.display=c?c:"")},addCSSRule:function(a,b,c,d){a.insertRule?a.insertRule(b+"{"+c+"}",d):a.addRule(b,c,d)},createStylesheet:function(){var a,b,d=c.browser;return"MSIE"===d.name&&d.version>=6&&d.version<=10?a=document.createStyleSheet():(a=document.createElement("style"),b=document.getElementsByTagName("head")[0],a.appendChild(document.createTextNode("")),b.appendChild(a),a.sheet?a.sheet:a.styleSheet)},getWindowSize:function(){var a,b,d=window,e=document,f=e.documentElement,g=e.getElementsByTagName("body")[0],h=c.os.name;return a=d.innerWidth?d.innerWidth:0,b=d.innerHeight?d.innerHeight:0,"ios"!==h&&(a=f.clientWidth&&f.clientWidth>a?f.clientWidth:a,b=f.clientHeight&&f.clientHeight>b?f.clientHeight:b,a&&b||(a=g.clientWidth&&g.clientWidth>a?g.clientWidth:a,b=g.clientHeight&&g.clientHeight>b?g.clientHeight:b)),{width:a,height:b}},getElementPosition:function(a){for(var b=0,c=0;a&&a!==document.body;)b+=a.offsetLeft-a.scrollLeft+a.clientLeft,c+=a.offsetTop-a.scrollTop+a.clientTop,a=a.offsetParent;return[b,c]},applyStyles:function(a,b){for(var c in b)c&&(a.style[c]=b[c])},isDomElement:function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName}},new b}),ACT.define("Enabler",["Event","Lang","VideoEvents","Json","Tracking","Util","Dom","UA"],function(a){"use strict";function b(a,c){for(var d in a){if(m.isObject(a[d]))return b(a[d],c);if(a[d]===c)return!0}return!1}function c(a){var b=window.Y||null,c=b&&b.SandBox&&b.SandBox.vendor?b.SandBox.vendor:null;if(null===c&&window===window.parent)l.fire(u.TO_PARENT,a);else try{window.parent.ACT.Event.fire(u.TO_PARENT,a)}catch(d){parent.postMessage({EnablerData:a},"*")}}function d(a,b){var c=m.isString(a)&&a.length>0?a:"",d=b,e="?",f=c.length-1;return f>0&&(c.indexOf("?")===f?e="":c.indexOf("?")>-1&&(e="&")),m.isArray(d)?d=d.join("&"):m.isObject(d)&&(d=m.createHash(d)),m.isString(d)&&d.length>0&&(0===d.indexOf("?")&&(d=d.slice(1,d.length)),c+=e+d),c}function e(a,b,e,f,g){var h=a;if(t.trackingLabels.hasOwnProperty(h)&&(h=t.trackingLabels[h]),"redirect"===e){if(t.hasOwnProperty("actTracking")&&m.isFunction(t.actTracking.redirect_track)){var i=d(f,g),j=t.actTracking.redirect_track(h,q.hashString(h),i)||i;window.open(j,"_blank")}}else"track"===e&&t.hasOwnProperty("enablerInteractionTracking")&&t.enablerInteractionTracking===!0?t.hasOwnProperty("actTracking")&&m.isFunction(t.actTracking.interaction_track)&&t.actTracking.interaction_track(h):c({frameId:t.frameId,id:a,eventType:b,actionName:e,url:f,special:g})}function f(a,b){return m.isString(b)&&(t.exitUrls[a]=b),b}function g(a,b){t.countersList[a]||(t.countersList[a]={count:0,cumulative:b?!0:!1}),t.countersList[a].cumulative&&(t.countersList[a].count+=1)}function h(a){var b=0;return t.countersList[a]&&(b=t.countersList[a].count),b}function i(a){j(a,2,1),j(a,1,2),j(a,4,8),j(a,8,4),j(a,128,64),j(a,64,128)}function j(a,b,c){(a&b)===b&&(v.common.Environment.Value|=b,v.common.Environment.Value&=~c)}function k(){var a=null;if(window.Enabler&&(a=window.Enabler.getConfig(),this.setConfig(a)),"name"in window)try{var b=decodeURI(window.name);a=o.parse(b)||{},this.setConfig(a)}catch(c){}t.initialized=!0,this.dispatchEvent(v.events.StudioEvent.INIT),l.ready(m.bind(this,null,this.dispatchPageLoaded)),l.on(u.FROM_PARENT,m.bind(this,null,this.parentMessageHandle))}var l=a.Event,m=a.Lang,n=a.VideoEvents,o=a.Json,p=a.Tracking,q=a.Util,r=a.Dom,s=a.UA,t={frameId:"",actTracking:{},trackingLabels:{},enablerInteractionTracking:!1,callbacks:[],countersList:{},eventQueue:{},exitUrls:{},htmlRoot:"",initialized:!1,pageLoaded:!1,timerCollection:{},videoTracking:{},videoListener:null,visible:!1,expand:{containerState:"",useCustomClose:!1,expandingPixelOffsets:{},floatingPixelDimensions:{},isMultiDirectional:!1,startExpanded:!1,expandDirection:"tl",fsExpandWidth:0,fsExpandHeight:0}},u={FROM_PARENT:"html5:message",TO_PARENT:"Enabler:actions"};l.on("message",function(a){var b=a.data;b.hasOwnProperty("eventName")&&b.hasOwnProperty("message")&&(u.FROM_PARENT=b.eventName,l.fire(u.FROM_PARENT,{message:b.message}))},window);k.ATTRS={NAME:"Enabler",version:"0.0.13"},k.prototype={constructor:k,Event:l,Lang:m,Util:q,Dom:r,Json:o,UA:s,parentMessageHandle:function(a){var b=a.message,c=v.events.StudioEvent;c.hasOwnProperty(b)&&this.dispatchEvent(c[b],null)},getConfigObject:function(a){return a&&m.isString(a)&&t.hasOwnProperty(a)?t[a]:t},getConfig:function(a){var b=this.getConfigObject(a);return o.stringify(b)},setConfig:function(a,b){var c=a;return m.isString(a)&&(c=o.parse(a)),b&&m.isString(b)&&t.hasOwnProperty(b)&&(c={},c[b]=a),t=m.merge(t,c),t.hasOwnProperty("tracking")&&m.isObject(t.tracking)&&(t.tracking.trackUnique=!1,t.actTracking=new p(t.tracking)),this.getConfig(b)},addEventListener:function(a,b,c,d){var e=a.replace(/(.)([A-Z])/g,"$1_$2").toUpperCase();v.events.StudioEvent.hasOwnProperty(e)&&(t.eventQueue[a]&&this.removeEventListener(a),l.on(a,b,d,this),t.eventQueue[a]={type:a,callback:b,opt_capture:c,opt_handlerScope:d})},removeEventListener:function(a){if(t.eventQueue[a]){var b=t.eventQueue[a];l.removeListener(b.type,b.callback,b.opt_handlerScope),delete t.eventQueue[a]}},dispatchEvent:function(a,b){m.isString(a)&&l.fire(a,b)},exit:function(a,b){f(a,b);var c=t.exitUrls[a];e(a,v.events.StudioEvent.EXIT,"redirect",c,null)},exitOverride:function(a,b){m.isString(b)&&b.indexOf("http")>=0&&(f(a,b),e(a,v.events.StudioEvent.EXIT,"redirect",b,null))},exitQueryString:function(a,b){var c=t.exitUrls[a];m.isString(b)&&c.indexOf("http")>=0&&e(a,v.events.StudioEvent.EXIT,"redirect",c,b)},counter:function(a,b){var c=b===!1?!1:!0;g(a,c),e(a,v.events.StudioEvent.INTERACTION,"track",null,h(a))},startTimer:function(a){this.stopTimer(a),t.timerCollection[a]={time:0,timer:setInterval(function(){t.timerCollection[a].time++},1e3)}},stopTimer:function(a){t.timerCollection[a]&&(clearInterval(t.timerCollection[a].timer),delete t.timerCollection[a])},getUrl:function(a){if(!t.htmlRoot){var b=window.location.href;t.htmlRoot=b.split("/").slice(0,-1).join("/").concat("/")}return"/"!==t.htmlRoot[t.htmlRoot.length-1]&&(t.htmlRoot=t.htmlRoot.concat("/")),void 0===a||0===a.length?t.htmlRoot:t.htmlRoot+a},setUrl:function(a){t.htmlRoot=a},dispatchPageLoaded:function(){t.pageLoaded=!0,this.dispatchEvent(v.events.StudioEvent.PAGE_LOADED,null)},isPageLoaded:function(){return t.pageLoaded},isInitialized:function(){return t.initialized},callAfterInitialized:function(a){t.callbacks.push(a)},close:function(){t.expand.containerState=v.sdk.ContainerState.COLLAPSING,e("close",v.events.StudioEvent.COLLAPSE_START,"close","",t.expand),l.fire(v.events.StudioEvent.COLLAPSE_START,t.expand)},setUseCustomClose:function(a){return t.expand.useCustomClose=!!a,t.expand.useCustomClose},getContainerState:function(){return b(v.sdk.ContainerState,t.expand.containerState)||(t.expand.containerState=v.sdk.ContainerState.COLLAPSED),t.expand.containerState},getExpandDirection:function(){return v.common.mde.Direction()},reportManualClose:function(){e("reportManualClose",v.events.StudioEvent.COLLAPSE,"collapse","",t.expand)},setExpandingPixelOffsets:function(a,b,c,d){return t.expand.expandingPixelOffsets={left:m.isNumber(a)?a:0,top:m.isNumber(b)?b:0,expandedWidth:m.isNumber(c)?c:0,expandedHeight:m.isNumber(d)?d:0},t.expand.expandingPixelOffsets},setFloatingPixelDimensions:function(a,b){return t.expand.floatingPixelDimensions={width:m.isNumber(a)?a:0,height:m.isNumber(b)?b:0},t.expand.floatingPixelDimensions},setIsMultiDirectional:function(a){return t.expand.isMultiDirectional=!!a,t.expand.isMultiDirectional},setStartExpanded:function(a){return t.expand.startExpanded=!!a,t.expand.startExpanded},requestExpand:function(){this.setStartExpanded(!0),t.expand.containerState=v.sdk.ContainerState.EXPANDING,e("requestExpand",v.events.StudioEvent.EXPAND_START,"expand","",t.expand)},finishExpand:function(){this.setStartExpanded(!1),t.expand.containerState=v.sdk.ContainerState.EXPANDED,e("finishExpand",v.events.StudioEvent.EXPAND_FINISH,"expand","",t.expand)},requestCollapse:function(){t.expand.containerState=v.sdk.ContainerState.COLLAPSING,e("requestCollapse",v.events.StudioEvent.COLLAPSE_START,"collapse","",t.expand)},finishCollapse:function(){t.expand.containerState=v.sdk.ContainerState.COLLAPSED,e("finishCollapse",v.events.StudioEvent.COLLAPSE_FINISH,"collapse","",t.expand)},requestFullscreenCollapse:function(){t.expand.containerState=v.sdk.ContainerState.FS_COLLAPSING,e("requestFullscreenCollapse",v.events.StudioEvent.FULLSCREEN_COLLAPSE_START,"collapse","",t.expand)},requestFullscreenExpand:function(a,b){this.setStartExpanded(!0),t.expand.containerState=v.sdk.ContainerState.FS_EXPANDING,t.expand.fsExpandWidth=m.isNumber(a)?a:t.expand.fsExpandWidth,t.expand.fsExpandHeight=m.isNumber(b)?b:t.expand.fsExpandHeight,e("requestFullscreenExpand",v.events.StudioEvent.FULLSCREEN_EXPAND_START,"expand","",t.expand)},finishFullscreenCollapse:function(){t.expand.containerState=v.sdk.ContainerState.COLLAPSED,e("finishFullscreenCollapse",v.events.StudioEvent.FULLSCREEN_COLLAPSE_FINISH,"collapse","",t.expand)},finishFullscreenExpand:function(){this.setStartExpanded(!1),t.expand.containerState=v.sdk.ContainerState.FS_EXPANDED,e("finishFullscreenExpand",v.events.StudioEvent.FULLSCREEN_EXPAND_FINISH,"expand","",t.expand)},isVisible:function(){return this.dispatchEvent(v.events.StudioEvent.VISIBLE,null),!0},getParameter:function(a){return a?q.getQStrVal(a):""},getParameterAsInteger:function(a){if(a){var b=q.getQStrVal(a);return parseInt(b)||0}return 0},getParameterAsNullableString:function(a){return a?q.getQStrVal(a):0},getStudio:function(){var a=null;return m.isObject(v)&&(a=v),a},loadScript:function(a,b){var c=document.createElement("script");return m.isFunction(b)&&(c.onload=c.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(b(),c.onload=c.onreadystatechange=null)}),c.src=a,c.type="text/javascript",document.body.appendChild(c),c},loadModule:function(a,b){var c=this.getStudio(),d={};return m.isObject(c)&&m.isObject(c.module)&&m.isObject(c.module.ModuleId)?("enabler"===a?d=k:"video"===a&&(d=c.video),b&&b(d),d):void 0}};var v={events:{StudioEvent:{ABOUT_TO_EXPAND:"aboutToExpand",COLLAPSE:"collapse",COLLAPSE_FINISH:"collapseFinish",COLLAPSE_START:"collapseStart",EXIT:"exit",EXPAND_FINISH:"expandFinish",EXPAND_START:"expandStart",FULLSCREEN_COLLAPSE_FINISH:"fullscreenCollapseFinish",FULLSCREEN_COLLAPSE_START:"fullscreenCollapseStart",FULLSCREEN_DIMENSIONS:"fullscreenDimensions",FULLSCREEN_EXPAND_FINISH:"fullscreenExpandFinish",FULLSCREEN_EXPAND_START:"fullscreenExpandStart",FULLSCREEN_SUPPORT:"fullscreenSupport",HIDDEN:"hidden",INIT:"init",INTERACTION:"interaction",ORIENTATION:"orientation",PAGE_LOADED:"pageLoaded",VISIBILITY_CHANGE:"visibilityChange",VISIBLE:"visible"}},common:{mde:{directionsList:["tl","tr","bl","br"],Direction:function(){var a=this.directionsList[0];if(t){var b=this.getDirectionIndex(t.expand.expandDirection);if(a=t.expand.expandDirection,t.expand.isMultiDirectional){var c=this.directionsList[(b+1)%4];t.expand.expandDirection=c}}return a},getDirectionIndex:function(a){for(var b=0,c=0;c<this.directionsList.length;c++)this.directionsList[c]===a&&(b=c);return b}},Environment:{Type:{LIVE:1,LOCAL:2,BROWSER:4,IN_APP:8,LAYOUTS_PREVIEW:16,CREATIVE_TOOLSET:32,RENDERING_STUDIO:64,RENDERING_TEST:128},Value:6,addType:function(a){this.Value=this.Value|=a,i(a)},setType:function(a){this.Value=6|a,i(this.Value)},hasType:function(a){return(this.Value&a)===a},getValue:function(){return this.Value}}},hint:{ExpansionMode:{LIGHTBOX:"lightbox",NORMAL:"normal"},ExpansionTrigger:{ON_CLICK:"onClick",ON_HOVER:"onHover"},Hint:{EXPANSION_MODE:"expansionMode",EXPANSION_TRIGGER:"expansionTrigger"}},module:{ModuleId:{CONFIGURABLE:"configurable",CONFIGURABLE_FILLER:"configurablefiller",DCM_ENABLER:"dcmenabler",ENABLER:"enabler",FILLER:"layoutsfiller",GDN:"gdn",LAYOUTS:"layouts",RAD_VIDEO:"rad_ui_video",VIDEO:"video"}},sdk:{ContainerState:{COLLAPSED:"collapsed",COLLAPSING:"collapsing",EXPANDED:"expanded",EXPANDING:"expanding",FS_COLLAPSING:"fs_collapsing",FS_EXPANDED:"fs_expanded",FS_EXPANDING:"fs_expanding"},ExitFlag:{LOG_ONLY:1,NONE:0},MraidMethod:{CREATE_CALENDAR_EVENT:"createCalendarEvent",GET_CURRENT_POSITION:"getCurrentPosition",GET_DEFAULT_POSITION:"getDefaultPosition",GET_MAX_SIZE:"getMaxSize",GET_SCREEN_SIZE:"getScreenSize",PLAY_VIDEO:"playVideo",STORE_PICTURE:"storePicture",SUPPORTS:"supports"}},video:{Reporter:{attach:function(a,b,c){var d={};c===!0?d={tracking:{start:!0,25:!1,50:!0,75:!1,ended:!0,pause:!1,volumechange:!1,seeked:!1}}:m.isObject(c)&&(d={tracking:c}),null===t.videoListener&&(t.videoListener=l.on("video:action",function(a){if(t.videoTracking.hasOwnProperty(a.videoId)){var b=a.eventType,c=a.videoId+":"+b;window.Enabler.counter(c)}}));var e=new n(b,a,d);return t.videoTracking.hasOwnProperty(a)||(t.videoTracking[a]=[]),t.videoTracking[a].push(e),e},detach:function(a){for(var b=t.videoTracking[a],c=0;c<b.length;c++)b[c].destroy(),b[c]=null;delete t.videoTracking[a]}}}};return window.Enabler=new k,window.studio=window.Enabler.getStudio(),window.Enabler}),ACT.define("Event",["Lang"],function(a){"use strict";function b(){return b.prototype._singleton?b.prototype._singleton:void(b.prototype._singleton=this)}function c(a,b){b=b||document.createElement(f[a]||"div"),a="on"+a;var c=a in b;return c||(b.setAttribute||(b=document.createElement("div")),b.setAttribute&&b.removeAttribute&&(b.setAttribute(a,""),c="function"==typeof b[a],"undefined"!=typeof b[a]&&(b[a]=void 0),b.removeAttribute(a))),b=null,c}function d(a,b,d,f){var g=b;return f&&(g=e.bind(f,[],b)),d&&c(a,d)?window.addEventListener?d.addEventListener(a,g,0):window.attachEvent&&d.attachEvent("on"+a,g):d=null,{element:d,fn:b,scope:f,event:a,bound:g}}var e=a.Lang,f={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},g={};return b.ATTRS={NAME:"event",version:"0.0.1"},b.prototype={hOP:function(a){return g.hasOwnProperty(a)},on:function(a,b,c,e){var f,h,i=this;return this.hOP.call(g,a)||(g[a]=[]),f=d(a,b,c,e),h=g[a].push(f)-1,{remove:function(){g[a][h]&&(g[a][h].element?i.removeListener(a,b,c):delete g[a][h])}}},addCSSListener:function(a,b,c,d){this.on(a.toLowerCase(),b,c,d),this.on("webkit"+a,b,c,d),this.on("moz"+a,b,c,d),this.on("ms"+a,b,c,d),this.on("o"+a,b,c,d)},removeListenerHelper:function(a,b,c){window.removeEventListener?c.removeEventListener(a,b,0):window.detachEvent&&c.detachEvent("on"+a,b)},removeListener:function(a,b,c){var d,e=g[a]||[],f=[];for(d=0;d<e.length;d++)!e[d]||e[d].element!==c||e[d].fn!==b&&e[d].bound!==b?f.push(e[d]):(this.removeListenerHelper(a,e[d].bound,c),e[d]=null);g[a]=f},ready:function(){var a=function(a){e(a),i()},b=window.document,c=!1,d=[],e=function(a){"function"==typeof a&&d.push(a)},f=function(){for(;d.length;)d.shift()();e=function(a){a()}},g=function(){b.addEventListener?b.removeEventListener("DOMContentLoaded",g,!1):b.detachEvent("onreadystatechange",g),h()},h=function(){if(!a.isReady){if(!b.body)return setTimeout(h,1);a.isReady=!0,f()}},i=function(){var a=!1;if(!c)if(c=!0,"complete"===b.readyState&&h(),b.addEventListener)b.addEventListener("DOMContentLoaded",g,!1),window.addEventListener("load",g,!1);else if(b.attachEvent){b.attachEvent("onreadystatechange",g),window.attachEvent("onload",g);try{a=null===window.frameElement}catch(d){}b.documentElement.doScroll&&a&&j()}},j=function(){if(!a.isReady){try{b.documentElement.doScroll("left")}catch(c){return void setTimeout(j,1)}h()}};return a.isReady=!1,a}(),purgeListeners:function(a){var b,c,d;for(c in g)if(g.hasOwnProperty(c)){for(d=[],b=0;b<g[c].length;b++)g[c][b].element===a?(this.removeListenerHelper(c,g[c][b].bound,a),g[c][b]=null):d.push(g[c][b]);g[c]=d}},fire:function(a,b){var c,d=this,f=b?b:{};if(d.hOP(a))for(var h in g[a])if(g[a].hasOwnProperty(h)){var i=g[a][h];c=f.scope?f.scope:i.scope,c===i.scope&&e.isFunction(i.fn)&&(c?i.fn.call(c,b):i.fn(b))}},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},constructor:b},new b}),ACT.define("Lang",[],function(){"use strict";function a(){return a.prototype._singleton?a.prototype._singleton:void(a.prototype._singleton=this)}return a.ATTRS={NAME:"Lang",version:"0.0.1"},a.prototype={bind:function(a,b,c){var d;return d=Function.prototype.bind?c.bind(a):function(d){b?c.apply(a,[d,b]):c.apply(a,arguments)}},mix:function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},size:function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c},merge:function(a,b){var c,d,e,f=!1;for(var g in b)if(b.hasOwnProperty(g)){if(c=a[g],d=b[g],a[g]===d)continue;f=this.isArray(d),d&&!this.isFunction(d)&&(this.isObject(d)||f)?(f?(f=!1,e=c&&this.isArray(c)?c:[],d=d.concat(e),e=[]):e=c&&this.isObject(c)?c:{},a[g]=this.merge(e,d)):void 0!==d&&(a[g]=d)}return a},delay:function(a,b,c,d){var e=this.bind(c,d,a),f=setTimeout(e,b);return f},createHash:function(a){var b,c=[],d=encodeURIComponent;for(b in a)a.hasOwnProperty(b)&&c.push(d(b)+"="+d(String(a[b])));return c.join("&")},parseHash:function(a){var b,c=null,d={},e=decodeURIComponent,f=0,g=0;if("string"==typeof a)for(b=a.split("&"),g=b.length,f=0;g>f;f++)c=b[f].split("="),d[e(c[0])]=e(c[1]);return d},isObject:function(a){return"object"==typeof a||"function"==typeof a},isObjectEmpty:function(a){if(null===a||void 0===a)return!0;if(a.length>0)return!1;if(0===a.length)return!0;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},isFunction:function(a){return"function"==typeof a},objHasKey:function(a,b){return this.isObject(a)&&a.hasOwnProperty(b)},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},clone:function(a){if(null===a||"object"!=typeof a)return a;var b=a.constructor();for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},arrayIndexOf:function(a,b,c){if(Array.prototype.indexOf)return a.indexOf(b,c);var d=a.length;for(c=+c||0,c=(c>0||-1)*Math.floor(Math.abs(c)),0>c&&(c+=d,0>c&&(c=0));d>c;++c)if(c in a&&a[c]===b)return c;return-1},arrayDedupe:function(a){var b,c,d,e={},f=[];for(b=0,d=a.length;d>b;++b)c=a[b],Object.prototype.hasOwnProperty.call(e,c)||(e[c]=1,f.push(c));return f},numberific:function(a){var b=a.match(/[0-9]+.?[0-9]*/);return b&&b[0]?parseFloat(b[0]):0},capitaliseFirstLetter:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},mixin:function(a,b){void 0!==b.prototype?this.merge(a,b.prototype):this.merge(a,b.constructor.prototype)},create:function(a){function b(){}return b.prototype=a,new b},extend:function(a,b,c){var d=a.prototype,e={};if(this.isArray(b))for(var f in b)b.hasOwnProperty(f)&&(this.mixin(d,b[f]),this.merge(e,b[f].ATTRS));else this.mixin(d,b),this.merge(e,b.ATTRS);return a.prototype=this.create(this.merge(d,c)),a.prototype.constructor=a,a.superclass=d,a.superclass.ATTRS=this.merge(e,a.ATTRS),a}},new a}),ACT.define("UA",["Lang"],function(a){"use strict";function b(a){var b,c="other",d=0,e=a||navigator.userAgent.toString();return/windows|win32/i.test(e)&&!/windows phone/i.test(e)?c="windows":/macintosh|mac_powerpc/i.test(e)?c="macintosh":/iphone|ipod|ipad/i.test(e)?(c="ios",b=/CPU OS ([0-9_]+)/i.exec(e),b&&b[1]&&(d=b[1].replace("_","."))):/windows phone/i.test(e)?(c="Windows Phone",b=/Windows Phone [OS]*\s*([0-9.]+)/.exec(e),b&&b[1]&&(d=b[1])):/android/i.test(e)?(c="android",b=/Android\s*([0-9.]+)/.exec(e),b&&b[1]&&(d=b[1])):/linux/i.test(e)?c="linux":/webOS/i.test(e)?c="webOS":/BlackBerry/i.test(e)?c="BlackBerry":/Opera Mini/i.test(e)&&(c="Opera Mini"),{name:c,version:parseInt(d)}}function c(a){var b=a||navigator.userAgent.toLowerCase(),c=/iphone|ipod|mobile|android|blackberry|opera|mini|windows phone|windows\sce|palm|smartphone|iemobile/i.test(b);return/ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(b)?!1:c}function d(a){var b=a||navigator.userAgent.toLowerCase(),c=/ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(b);return c}function e(){var a="0",b=!1,c=null;if(navigator.plugins&&"object"==typeof navigator.plugins["Shockwave Flash"])a=navigator.plugins["Shockwave Flash"].description,void 0!==typeof a&&(a=a.replace(/^.*\s+(\S+\s+\S+$)/,"$1").replace(" ","."));else if(window.ActiveXObject){try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(d){try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),c.AllowScriptAccess="always"}catch(e){try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(f){b=!0}}}if(null!==c&&"object"==typeof c?(a=c.GetVariable("$version"),void 0!==typeof a&&(a=a.replace(/^\S+\s+(.*)$/,"$1").replace(/,/g,"."))):b=!0,b)return 0}return parseInt(a.split(".")[0])}function f(a,b){var c=0;if(n.isString(a)){var d=a.match(b);d&&(d[1]||d[2])&&(c=n.numberific(d[1]||d[2]))}return c}function g(){var a=document.createElement("canvas"),b=!(!a.getContext||!a.getContext("2d"));return b}function h(){var a=document.createElement("div"),b="draggable"in a||"ondragstart"in a&&"ondrop"in a;return b}function i(){var a=document.createElement("canvas"),b=!(!B||"function"!=typeof a.getContext("2d").fillText);return b}function j(){var a=document.createElement("audio"),b=!1,c=!1,d=!1,e=!1;try{return"canPlayType"in a&&(c=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),d=a.canPlayType("audio/mpeg;").replace(/^no$/,""),e=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),(""!==c||""!==d||""!==e)&&(b=!0)),b}catch(f){return!1}}function k(){var a=document.createElement("video"),b=!1,c=!1,d=!1,e=!1,f=!1,g=!1;try{return"canPlayType"in a&&(c=a.canPlayType('video/ogg; codecs=theora"').replace(/^no$/,""),d=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),e=a.canPlayType('video/mp4; codecs="mp4v.20.8"').replace(/^no$/,""),f=a.canPlayType('video/mp4; codecs="mp4a.40.2"').replace(/^no$/,""),g=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),(""!==c||""!==d||""!==e||""!==f||""!==g)&&(b=!0)),b}catch(h){return!1}}function l(){var a={name:"other",version:0};return o?(a.name="MSIE",a.version=o):p?(a.name="Edge",a.version=p):q?(a.name="FireFox",a.version=q):r?(a.name="Safari",a.version=r):s?(a.name="Chrome",a.version=s):t&&(a.name="WebKit",a.version=t),a}var m=navigator.userAgent.toString(),n=a.Lang,o=f(m,/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/),p=f(m,/Edge\/([0-9.]+)/),q=f(m,/Firefox\/([0-9.]+)/),r=f(m,/Version\/([0-9.]+)\s?Safari/),s=f(m,/Chrome\/([0-9.]+)/),t=f(m,/AppleWebKit\/([0-9.]+)/),u=b(m),v=e(),w=c(),x=d(),y=h(),z=k(),A=j(),B=g(),C=i(),D=z&&A&&B&&C,E=l(),F={ATTRS:{NAME:"UA",version:"0.0.1"},html:document.documentElement,checkBrowser:f,detectOS:b,os:u,browser:E,ie:o,firefox:q,safari:r,chrome:s,webkit:t,flash:v,dragDrop:y,canvasText:C,canvas:B,audio:A,video:z,isHtml5Supported:D,checkMobile:c,checkTablet:d,isMobile:w,isTablet:x};return F}),ACT.define("VideoEvents",["Event","Lang","Dom","UA"],function(a){"use strict";function b(a,b){var c=g.browser,d=c.name||"",e=!0;if(a.controls){var f=m[d]||0,h=a.offsetHeight||0,i=h-f;e=b.hasOwnProperty("x")&&b.hasOwnProperty("y")?b.y<i:!1}return e}function c(a,b,c){this.videoNode=a,this.videoID=b,this.firstPlay=!0,this.videoEnded=!1,this.config={},e.merge(this.config,k),e.merge(this.config,c||{}),h=this.config.resumeThreshold,this.progressParts={25:!1,50:!1,75:!1,ended:!1},this.progress={},!0===this.validateVideoNode()&&this.initializeVideoTracking()}var d=a.Event,e=a.Lang,f=a.Dom,g=a.UA,h=.05,i={ON:"On",OFF:"Off"},j={start:"video:start",stop:"video:stop",resume:"video:resume",replay:"video:replay",pause:"video:pause",soundOn:"video:soundOn",soundOff:"video:soundOff",seeked:"video:seeked",25:"video:25percent",50:"video:50percent",75:"video:75percent",ended:"video:complete",clicked:"video:clicked"},k={resumeThreshold:h,tracking:{}};for(var l in j)j.hasOwnProperty(l)&&(k.tracking[l]="clicked"!==l);var m={Safari:24,FireFox:28,Chrome:35,Edge:0,MSIE:0,WebKit:35};return c.ATTRS={NAME:"VideoEvent",version:"1.0.0"},c.prototype={broadcast:function(a,b){var c=this.config,e=c.tracking;e.hasOwnProperty(a)&&e[a]===!0&&(b=b||{},d.fire("video:action",{videoId:this.videoID,videoNode:this.videoNode,data:b,eventType:a,eventLongName:j[a].replace("video:",""),event:j[a]}))},validateVideoNode:function(){var a=this.videoNode;return e.isString(a)&&(a=f.byId(a),this.videoNode=a),a&&"nodeName"in a&&"video"===a.nodeName.toLowerCase()?!0:!1},initializeVideoTracking:function(){var a=this.videoNode;this.soundState=!0!==a.muted&&a.volume>0?i.ON:i.OFF,this.events={play:d.on("play",this.onPlay,a,this),pause:d.on("pause",this.onPause,a,this),volumechange:d.on("volumechange",this.onVolumeChange,a,this),timeupdate:d.on("timeupdate",this.onTimeUpdate,a,this),ended:d.on("ended",this.onEnded,a,this),seeked:d.on("seeked",this.onSeeked,a,this),clicked:d.on("click",this.onClicked,a,this)}},calculateVideoPercentage:function(){var a=this.videoNode,b=a.duration;if(e.isObjectEmpty(this.progress)){var c=Math.floor(.25*b),d=Math.floor(.5*b),f=Math.floor(.75*b),g={};isNaN(c)||isNaN(d)||isNaN(f)||(g[c]=e.bind(this,c,this.on25Percent),g[d]=e.bind(this,d,this.on50Percent),g[f]=e.bind(this,f,this.on75Percent),this.progress=g)}},onSeeked:function(){this.broadcast("seeked")},onPause:function(){var a=this.videoNode,b=a.duration,c=a.currentTime,d=b*(1-h),e=c>=d;e||this.broadcast("pause")},onTimeUpdate:function(){this.calculateVideoPercentage();var a=this.videoNode,b=Math.floor(a.currentTime);b in this.progress&&this.progress[b]()},onVolumeChange:function(){var a=this.videoNode,b=!0!==a.muted&&a.volume>0?i.ON:i.OFF;b!==this.soundState&&(this.soundState=b,this.broadcast("sound"+b))},progressTrack:function(a){this.progressParts.hasOwnProperty(a)&&this.progressParts[a]===!1&&(this.broadcast(a),this.progressParts[a]=!0)},onPlay:function(){var a=this.videoNode,b=a.duration,c=a.currentTime,d=b*h,e=b*(1-h);this.firstPlay===!0?(this.firstPlay=!1,this.broadcast("start")):c>=d&&e>=c?this.broadcast("resume"):this.videoEnded===!0&&(this.videoEnded=!1,this.broadcast("replay"))},on25Percent:function(){this.progressTrack("25")},on50Percent:function(){this.progressTrack("50")},on75Percent:function(){this.progressTrack("75")},onEnded:function(){this.videoEnded===!1&&(this.videoEnded=!0),this.resetParts(),this.progressTrack("ended")},onClicked:function(a){var c=this.videoNode,e=this.config,g=e.preventOnClick||!0,h={};if(a.offsetX&&a.offsetY)h={x:a.offsetX,y:a.offsetY};else{var i=f.viewportOffset(c.id);h=i.top&&i.left?{x:i.left,y:i.top}:{x:0,y:0}}var j=b(c,h);j&&(g&&d.preventDefault(a),this.broadcast("clicked"))},resetParts:function(){var a=this.progressParts;for(var b in a)this.progressParts.hasOwnProperty(b)&&(this.progressParts[b]=!1)},destroy:function(){var a,b=this.events;for(a in b)b.hasOwnProperty(a)&&b[a].remove()}},c}),ACT.define("Json",[],function(){"use strict";function a(a){return h.lastIndex=0,h.test(a)?'"'+a.replace(h,function(a){var b=i[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(c,d){var h,i,j,k,l,m=e,n=d[c];switch(n&&"object"==typeof n&&"function"==typeof n.toJSON&&(n=n.toJSON(c)),"function"==typeof g&&(n=g.call(d,c,n)),typeof n){case"string":return a(n);case"number":return isFinite(n)?String(n):"null";case"boolean":case"null":return String(n);case"object":if(!n)return"null";if(e+=f,l=[],"[object Array]"===Object.prototype.toString.apply(n)){for(k=n.length,h=0;k>h;h+=1)l[h]=b(h,n)||"null";return j=0===l.length?"[]":e?"[\n"+e+l.join(",\n"+e)+"\n"+m+"]":"["+l.join(",")+"]",e=m,j}if(g&&"object"==typeof g)for(k=g.length,h=0;k>h;h+=1)i=g[h],"string"==typeof i&&(j=b(i,n),j&&l.push(a(i)+(e?": ":":")+j));else for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(j=b(i,n),j&&l.push(a(i)+(e?": ":":")+j));return j=0===l.length?"{}":e?"{\n"+e+l.join(",\n"+e)+"\n"+m+"}":"{"+l.join(",")+"}",e=m,j}}function c(a,c,d){if(window.JSON&&JSON&&JSON.stringify)return JSON.stringify(a);var h;if(e="",f="","number"==typeof d)for(h=0;d>h;h+=1)f+=" ";else"string"==typeof d&&(f=d);return g=c,b("",{"":a})}function d(){return d.prototype._singleton?d.prototype._singleton:void(d.prototype._singleton=this)}var e,f,g,h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j=function(){var a,b,c,d,e={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},f=function(b){throw{name:"SyntaxError",message:b,at:a,text:c}},g=function(d){return d&&d!==b&&f("Expected '"+d+"' instead of '"+b+"'"),c?(b=c.charAt(a),a+=1,b):""},h=function(){var a,c="";for("-"===b&&(c="-",g("-"));b>="0"&&"9">=b;)c+=b,g();if("."===b)for(c+=".";g()&&b>="0"&&"9">=b;)c+=b;if("e"===b||"E"===b)for(c+=b,g(),("-"===b||"+"===b)&&(c+=b,g());b>="0"&&"9">=b;)c+=b,g();return a=+c,isFinite(a)?a:void f("Bad number")},i=function(){var a,c,d,h="";if('"'===b)for(;g();){if('"'===b)return g(),h;if("\\"===b)if(g(),"u"===b){for(d=0,c=0;4>c&&(a=parseInt(g(),16),
isFinite(a));c+=1)d=16*d+a;h+=String.fromCharCode(d)}else{if("string"!=typeof e[b])break;h+=e[b]}else h+=b}f("Bad string")},j=function(){for(;b&&" ">=b;)g()},k=function(){switch(b){case"t":return g("t"),g("r"),g("u"),g("e"),!0;case"f":return g("f"),g("a"),g("l"),g("s"),g("e"),!1;case"n":return g("n"),g("u"),g("l"),g("l"),null}f("Unexpected '"+b+"'")},l=function(){var a=[];if("["===b){if(g("["),j(),"]"===b)return g("]"),a;for(;b;){if(a.push(d()),j(),"]"===b)return g("]"),a;g(","),j()}}f("Bad array")},m=function(){var a,c={};if("{"===b){if(g("{"),j(),"}"===b)return g("}"),c;for(;b;){if(a=i(),j(),g(":"),Object.hasOwnProperty.call(c,a)&&f('Duplicate key "'+a+'"'),c[a]=d(),j(),"}"===b)return g("}"),c;g(","),j()}}f("Bad object")};return d=function(){switch(j(),b){case"{":return m();case"[":return l();case'"':return i();case"-":return h();default:return b>="0"&&"9">=b?h():k()}},function(e){if(window.JSON&&JSON&&JSON.parse)return JSON.parse(e);var g;return c=e,a=0,b=" ",g=d(),j(),b&&f("Syntax error"),g}}();return d.ATTRS={NAME:"JSON",version:"0.0.1"},d.prototype={stringify:c,parse:j},new d}),ACT.define("Tracking",["Util","Lang","Event"],function(a){"use strict";function b(a){var b=a.match(/::(.*?)::/g);return b}function c(a,d){if(void 0!==a&&null!==a){var f=b(a);if(e.isArray(f)){var g=f[0].substr(2,f[0].length-4);if(o.hasOwnProperty(g))o[g].process(a,f[0],function(b){b=b.replace(f[0],""),a=c(b,d)});else{var h=a.replace(new RegExp(f[0],"g"),"");a=c(h,d)}}else d(a)}else d(a)}function d(a,b){var c=a||null;this.config={z1:"",rB:"",beap:[],adid:"",unique:"u_"},null!==c&&(e.merge(this.config,c),this.config.beap=this.config.z1.split("{beap_client_event}")),b&&(b.interaction_track=e.bind(this,null,this.interaction_track),b.redirect_track=e.bind(this,null,this.redirect_track),b.track=e.bind(this,null,this.track)),this.initializeEvents(),g.fire("register:Actions",n)}var e=a.Lang,f=a.Util,g=a.Event,h="tracking:track",i="tracking:track:complete",j="tracking:registerRedirect",k="tracking:registerRedirect:complete",l="env:envRendered",m="env:envRendered:Done",n=[{type:"track",arguments:{label:{name:"label",test:function(a){var b=!0;return a?"string"!=typeof a?b=!1:a.split("_")<4&&(b=!1):b=!1,b}}},process:function(a){var b=g.on(i,function(){b.remove(),g.fire("complete:action")});g.fire(h,{label:a.label})}}],o={envRendered:{process:function(a,b,c){var d=g.on(m,function(e){d.remove(),c(a.replace(new RegExp(b,"g"),e))});g.fire(l)}}};return d.ATTRS={NAME:"Tracking",version:"0.0.1"},d.prototype={initializeEvents:function(){var a=this;g.on(j,function(b){var c=b.clickTagName||"clickTAG";g.fire(k,{link:a.redirect_track(c,f.hashString(c),b.clickTag)||b.clickTag})}),g.on(h,function(b){a.track(b.label,null,null,function(){g.fire(i)})})},saveEventLabel:function(a,b,c){if(a===!0){var d=g.on("localRegister:updateAdEvent:complete",function(a){d.remove();var e=a.unique?"u_":"nu_";c(e,b)});g.fire("localRegister:updateAdEvent",{eventName:b})}else c("",b)},redirect_track:function(a,b,c){var d=this.config,e="",f=d.rB.split("))/");return!c||c.length<5?e:(f[0]&&f[1]&&(e=f[0]+"))&id="+a+"&r="+b+"/"+f[1]+c),e)},interaction_track:function(a){var b=this.config,c=b.beap,d=Math.random(),e=a||"",g=f.hashString(e),h="";return c[0]&&c[1]&&e.length>4?(h=c[0]+"seq$"+g+",label$"+e+",type$click,time$"+d+c[1],f.pixelTrack(h),!0):!1},track:function(a,b,d,e){var f=this;c(a,function(a){f.saveEventLabel(f.config.trackUnique,a,function(a,c){var g,h;h=null!==c?a+c:c,g=d?f.redirect_track(h,b,d):f.interaction_track(h),e(g)})})}},d}),ACT.define("Util",[],function(){"use strict";function a(){return a.prototype._singleton?a.prototype._singleton:void(a.prototype._singleton=this)}var b=decodeURIComponent,c=function(a,b){var c;if(null===this)throw new TypeError('"this" is null or not defined');var d=Object(this),e=d.length>>>0;if(0===e)return-1;var f=+b||0;if(Math.abs(f)===1/0&&(f=0),f>=e)return-1;for(c=Math.max(f>=0?f:e-Math.abs(f),0);e>c;){if(c in d&&d[c]===a)return c;c++}return-1};return a.ATTRS={NAME:"Util",version:"0.0.1"},a.prototype={toggleTakeover:function(a){window.ad_takeover&&ad_takeover(a)},adRunning:function(a){window.ad_running&&window.ad_running(a)},adAction:{},registerAdAction:function(a){a.ad&&(this.adAction[a.ad]=a)},inString:function(a,b){return this.inArray(a,b)},getInt:function(a){var b=a.match(/[0-9]+/gi);return null!==b?parseInt(b.join(""),10):0},pixelTrack:function(a){if(a){var b=new Image;b.onload=function(){b=null},b.src=a}},adDate:function(a){var b=new Date,c=new Date(a);return c.getTime()<b.getTime()},hashString:function(a){var b=0,c=0;if(0===a.length)return b;for(c;c<a.length;c++){var d=a.charCodeAt(c);b=(b<<5)-b+d,b&=b}return 0>b&&(b=-b),b},getQStrVal:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+a+"=([^&#]*)"),d=c.exec(location.search);return null===d?"":b(d[1].replace(/\+/g," "))},inArray:function(a,b){return Array.prototype.indexOf||(Array.prototype.indexOf=c),-1!==a.indexOf(b)}},new a}),ACT.define("ActionsQueue",["Event","Lang"],function(a){"use strict";function b(){var a=this;d.on("register:Actions",function(b){a.registerActions(b)}),d.on("add:actions",function(b){a.addActions(b)}),d.on("complete:action",function(){a.completeAction()})}var c=a.Lang,d=a.Event;return b.ATTRS={NAME:"ActionsQueue",version:"0.0.1"},b.prototype={registeredActions:{},executeQueue:[],isRunning:!1,currentAction:null,registerActions:function(a){if(c.isArray(a))for(var b=0;b<a.length;b++){var d=a[b];this.registeredActions[d.type]=d}else{if(!c.isObject(a))return!1;this.registeredActions[a.type]=a}return!0},addActions:function(a){if(c.isArray(a))for(var b=0;b<a.length;b++)this.enqueue(a[b]);else{if(!c.isObject(a))return!1;this.enqueue(a)}return this.runQueue(),!0},isActionArgumentsValid:function(a){var b=this.registeredActions[a.type],d=!0;if(b){var e=b.argument;for(var f in e)if(e.hasOwnProperty(f)){var g=e[f];c.isFunction(g.test)&&!g.test(a[f])&&(d=!1)}}else d=!1;return d},executeAction:function(a){if(this.isActionArgumentsValid(a)){var b=this.registeredActions[a.type];return b.process(a),!0}return this.completeAction(),!1},isValidAction:function(a){return c.isObject(a)&&c.isString(a.type)},enqueue:function(a){this.isValidAction(a)&&this.executeQueue.push(a)},dequeue:function(){var a=this.executeQueue[0]||null;return c.isObject(a)&&(this.executeQueue=this.executeQueue.slice(1)),a},runQueue:function(){if(!this.isRunning){var a=this.dequeue();null!==a&&(this.isRunning=!0,this.executeAction(a))}},completeAction:function(){this.isRunning=!1,this.runQueue()}},b});